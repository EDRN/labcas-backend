<?xml version="1.0" encoding="UTF-8"?>
<pgeConfig>

	<!-- PGE commands -->
	<exe dir="[JobDir]" shell="/bin/bash">
		<cmd>cd [LABCAS_STAGING]/[ProductType]/[DatasetId]</cmd>
        <cmd>ls -l</cmd>
	</exe>

	<customMetadata>
		<metadata key="ProductionDateTime" val="[DATE.UTC]" />
		<metadata key="JobDir"
			val="[PGE_ROOT]/jobs/[ProductType]/[DatasetId]/[DatasetVersion]" />
	</customMetadata>

	<!-- CAS Crawler directives -->
	<output>
		<dir path="[LABCAS_STAGING]/[ProductType]/[DatasetId]" createBeforeExe="false">
			<!-- Metadata extractors matching specific files.
                 Matching extractors will ALL be called in the sequence they are defined. -->
            <files regExp=".*\.dcm"
                   metFileWriterClass="gov.nasa.jpl.edrn.labcas.extractors.DicomMetExtractor"
                   args="python [LABCAS_HOME]/etc/dicom_met_extractor.py" />
			<files regExp=".*\.(?!met$|xmlmet$)[^.]+"
				metFileWriterClass="org.apache.oodt.cas.pge.writers.metlist.MetadataListPcsMetFileWriter"
				args="[LABCAS_HOME]/workflows/labcas-upload/pge-configs/metout.xml" />
		</dir>
	</output>

</pgeConfig>
